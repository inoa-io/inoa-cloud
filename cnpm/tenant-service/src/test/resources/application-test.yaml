micronaut:
  server:
    port: ${random.port}

  ## test client with increased read-timeout for debbuging
  http:
    client:
      logger-name: io.inoa.Test
      read-timeout: 5m

  ## used for tokens issued/checked at management api
  security:
    token:
      jwt:
        signatures:
          secret:
            generator:
              secret: pleaseChangeThisSecretForANewOne

## see https://docs.micronaut.io/latest/guide/index.html#providedEndpoints
endpoints:
  all:
    enabled: false

grpc:
  server:
    port: ${random.port}
  channels:
    istioAuth:
      address: localhost:${grpc.server.port}
      plaintext: true
      max-retry-attempts: 10

## INOA configuration
inoa:
  cnpm:
    tenant:
      token-exchange:
        key-id: test
        issuer: http://localhost:${micronaut.server.port}
      issuer-defaults:
        name: test
        url: http://localhost:${micronaut.server.port}/endpoints/test/0
        cache-duration: PT0s

## Custom log configuration
logger:
  levels:
    io.inoa: TRACE
    io.micronaut.data: TRACE
    io.micronaut.retry.intercept.RecoveryInterceptor: "OFF"
    org.apache.kafka: ERROR
